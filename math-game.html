<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Math Speed Game</title>
    <link rel="stylesheet" href="math-game.css" />
  </head>
  <body>
    <!-- Edit Name Button -->
    <button class="edit-name-btn" id="editNameBtn" onclick="editPlayerName()">
      ‚úèÔ∏è <span id="editNameText">Edit Name</span>
    </button>

    <!-- Language Selector -->
    <div class="language-selector">
      <button class="lang-btn" id="langEn" onclick="switchLanguage('en')">
        English
      </button>
      <button class="lang-btn" id="langVi" onclick="switchLanguage('vi')">
        Ti·∫øng Vi·ªát
      </button>
    </div>

    <div class="game-container">
      <!-- Start Screen -->
      <div class="start-screen active">
        <div class="instructions">
          <h1>Welcome ü¶Ñ to the</h1>
          <h1>Math Speed Game</h1>
          <h2>üéØ How to Play:</h2>
          <ul>
            <li>Each game set has 15 questions</li>
            <li>
              Choose your mode: multiplication/division or addition/subtraction
            </li>
            <li>Numbers will be between 2 and 9</li>
            <li>Answer as quickly as you can!</li>
            <li>Faster answers = More points!</li>
            <li>
              Get bonus points for speed:
              <ul>
                <li>Under 3 seconds: 100 points</li>
                <li>Under 5 seconds: 50 points</li>
                <li>Under 10 seconds: 25 points</li>
                <li>Over 10 seconds: 10 points</li>
              </ul>
            </li>
            <li>Complete the set to see your results and feedback!</li>
          </ul>
        </div>
        <div class="button-group">
          <button onclick="showModeSelection()">Start Game!</button>
          <button
            onclick="showLeaderboard()"
            style="
              background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
            "
          >
            View Leaderboard
          </button>
        </div>
        <div class="instructions">
          <h2 align="center">Special developed by Chi√™u Qu√¢n's daddy</h2>
        </div>
      </div>

      <!-- Mode Selection Screen -->
      <div class="mode-screen">
        <div class="mode-selection">
          <h2>üéÆ Select Game Mode</h2>
          <div class="mode-buttons">
            <button class="mode-btn" onclick="startGame('addsub')">
              <div class="mode-title">‚ûï‚ûñ Addition & Subtraction Mode</div>
              <div class="mode-desc">Random + and - with numbers (2-9)</div>
            </button>
            <button class="mode-btn" onclick="startGame('random')">
              <div class="mode-title">‚úñ‚ûó Multiplication & Division Mode</div>
              <div class="mode-desc">Random x and √∑ with numbers (2-9)</div>
            </button>
            <button class="mode-btn" onclick="showFixedModeSelection()">
              <div class="mode-title">
                üéØ Multiplication & Division Practice Mode
              </div>
              <div class="mode-desc">
                Choose a specific number to practice (2-9)
              </div>
            </button>
          </div>
          <div class="mode-info" id="fixedModeSelector" style="display: none">
            <h3 style="color: #667eea; margin-bottom: 10px; font-size: 1.1em">
              Select number to practice:
            </h3>
            <div class="number-selector">
              <button class="number-btn" onclick="startGame('fixed', 2)">
                2
              </button>
              <button class="number-btn" onclick="startGame('fixed', 3)">
                3
              </button>
              <button class="number-btn" onclick="startGame('fixed', 4)">
                4
              </button>
              <button class="number-btn" onclick="startGame('fixed', 5)">
                5
              </button>
              <button class="number-btn" onclick="startGame('fixed', 6)">
                6
              </button>
              <button class="number-btn" onclick="startGame('fixed', 7)">
                7
              </button>
              <button class="number-btn" onclick="startGame('fixed', 8)">
                8
              </button>
              <button class="number-btn" onclick="startGame('fixed', 9)">
                9
              </button>
            </div>
          </div>
        </div>
        <button
          onclick="backToStart()"
          style="background: linear-gradient(135deg, #6c757d 0%, #495057 100%)"
        >
          Back to Menu
        </button>
      </div>

      <!-- Game Screen -->
      <div class="game-screen">
        <div
          class="progress-indicator"
          id="progress"
          aria-live="polite"
          aria-atomic="true"
        >
          Question 1 of 10
        </div>
        <div class="stats">
          <div class="stat-box">
            <div class="stat-label">Score</div>
            <div class="stat-value" id="score" aria-live="polite">0</div>
          </div>
          <div class="stat-box">
            <div class="stat-label">Correct</div>
            <div class="stat-value" id="correct" aria-live="polite">0</div>
          </div>
          <div class="stat-box">
            <div class="stat-label">Total</div>
            <div class="stat-value" id="total" aria-live="polite">0</div>
          </div>
        </div>

        <div class="question-area">
          <div
            class="question"
            id="question"
            role="heading"
            aria-level="2"
            aria-live="polite"
          >
            2 √ó 3 = ?
          </div>
          <div
            class="time-bonus"
            id="timer"
            aria-live="polite"
            aria-atomic="true"
          >
            Time: 0.0s
          </div>
          <div class="input-area">
            <input
              type="number"
              id="answer"
              placeholder="Your answer"
              aria-label="Answer input field"
              aria-describedby="question"
              autofocus
              readonly
            />
            <div
              class="feedback"
              id="feedback"
              aria-live="assertive"
              aria-atomic="true"
            ></div>
            <div class="keyboard-container">
              <div
                class="number-keyboard"
                role="group"
                aria-label="Number input keyboard"
              >
                <button
                  class="num-key"
                  onclick="inputNumber(1)"
                  aria-label="Number 1"
                >
                  1
                </button>
                <button
                  class="num-key"
                  onclick="inputNumber(2)"
                  aria-label="Number 2"
                >
                  2
                </button>
                <button
                  class="num-key"
                  onclick="inputNumber(3)"
                  aria-label="Number 3"
                >
                  3
                </button>
                <button
                  class="num-key"
                  onclick="inputNumber(4)"
                  aria-label="Number 4"
                >
                  4
                </button>
                <button
                  class="num-key"
                  onclick="inputNumber(5)"
                  aria-label="Number 5"
                >
                  5
                </button>
                <button
                  class="num-key"
                  onclick="inputNumber(6)"
                  aria-label="Number 6"
                >
                  6
                </button>
                <button
                  class="num-key"
                  onclick="inputNumber(7)"
                  aria-label="Number 7"
                >
                  7
                </button>
                <button
                  class="num-key"
                  onclick="inputNumber(8)"
                  aria-label="Number 8"
                >
                  8
                </button>
                <button
                  class="num-key"
                  onclick="inputNumber(9)"
                  aria-label="Number 9"
                >
                  9
                </button>
                <button
                  class="num-key zero"
                  onclick="inputNumber(0)"
                  aria-label="Number 0"
                >
                  0
                </button>
                <button
                  class="num-key backspace"
                  onclick="backspace()"
                  aria-label="Backspace"
                >
                  ‚å´
                </button>
              </div>
              <button class="submit-btn" onclick="checkAnswer()">Enter</button>
            </div>
          </div>
        </div>

        <button onclick="resetGame()">New Game</button>
        <button
          onclick="backToStart()"
          style="
            margin-top: 10px;
            background: linear-gradient(135deg, #6c757d 0%, #495057 100%);
          "
        >
          Back to Menu
        </button>
      </div>

      <!-- Results Screen -->
      <div class="results-screen">
        <div class="results-container">
          <div class="results-title" id="resultsEmoji">üéâ</div>
          <div class="percentage" id="percentage">0%</div>
          <div class="results-stats" id="resultsStats"></div>
          <div class="feedback-message" id="feedbackMessage"></div>
        </div>
        <div class="button-group">
          <button onclick="startGame(gameMode, fixedNumber)">
            Play Another Set!
          </button>
          <button
            onclick="showLeaderboard()"
            style="
              background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
            "
          >
            View Leaderboard
          </button>
        </div>
        <button
          onclick="backToStart()"
          style="
            margin-top: 10px;
            background: linear-gradient(135deg, #6c757d 0%, #495057 100%);
          "
        >
          Back to Menu
        </button>
      </div>

      <!-- Leaderboard Screen -->
      <div class="leaderboard-screen">
        <div class="leaderboard">
          <h3>üèÜ Leaderboard - Top 10</h3>
          <ul class="leaderboard-list" id="leaderboardList">
            <li class="no-scores">No scores yet. Play your first game!</li>
          </ul>
          <button
            class="clear-leaderboard"
            onclick="clearLeaderboard()"
            style="display: none"
            id="clearBtn"
          >
            Clear Leaderboard
          </button>
        </div>
        <button onclick="backToStart()" style="margin-top: 20px">
          Back to Menu
        </button>
      </div>
    </div>

    <script src="math-game.js"></script>
  </body>
</html>
